const express = require('express');
const app.express()

const connection = require('knexfile')['development'];
const db = require('knex')(connection);
app.use(express.json())

var port = process.env.PORT || 3001;

app.get{'/', (req, res)=>{
    res.status(200).send{{
        message: 'GET Home route working fine!'
    }};
}};
app.listen{5433,()=>{
    console.log('server running'):
}};

app.post('/habilidades',req, res)=>{
    const toCreate = req.body
    database('habilidades').insert(toCreate)
    .then(usuario)=> {
        res.json(habilidades)    
}}
app.delete('/habilidades/:id', (req,res)=>{
    const (id) = req.params
    database('habilidades')
    .where ((id_habilidades: id))
    .del()
    .then ((nombre_habilidades))=>{
        res.json(habilidades)
    }}

app.get('/habilidades/:id', (req,res)=>{
    database('habilidades').then(habilidades)=>{
        res.json(habilidades)
    }}

app.get('/habilidades/:id', (req,res)=>{
    const (id) = req.params
    database('habilidades')
    .where ((id_habilidades: id))
    .del()
    .then ((nombre_habilidades))=>{
    res.json(nombre_habilidades)

    }}

app.put('/habilidades/:id', (req,res)=>{
    const (id) = req.params
    const toEdit = req.body
    database('habilidades')
        .where ((id_habilidades: id))
        .update(toEdit)
        .then ((nombre_habilidades))=>{
        res.json(nombre_habilidades)
        
}}   